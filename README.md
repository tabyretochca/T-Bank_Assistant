# T-Bank Assistant ü§ñ

**T-Bank Assistant** ‚Äî —ç—Ç–æ Telegram-–±–æ—Ç –Ω–∞ –±–∞–∑–µ RAG-—Å–∏—Å—Ç–µ–º—ã (Retrieval-Augmented Generation), —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ T-Bank. –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –æ –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö –ø—Ä–æ–¥—É–∫—Ç–∞—Ö –∏ —É—Å–ª—É–≥–∞—Ö, —Ç–∞–∫–∏—Ö –∫–∞–∫ –ª–∏–º–∏—Ç—ã —Å—á–µ—Ç–æ–≤, –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç –∏ –ø–µ—Ä–µ–≤–æ–¥—ã, —Å —Ü–∏—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–∞—Ä–∏—Ñ–æ–≤ Tinkoff Black 2024). –û–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–¥–æ–±–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π, –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –∏ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

üìã **–¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞**: –°–æ–∑–¥–∞—Ç—å —É–º–Ω–æ–≥–æ –ø–æ–º–æ—â–Ω–∏–∫–∞ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –±–∞–Ω–∫–∞, –∫–æ—Ç–æ—Ä—ã–π —Å–æ—á–µ—Ç–∞–µ—Ç —Ç–æ—á–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞ –ø–æ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π —Å –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –æ—Ç–≤–µ—Ç–æ–≤ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π —Å –¥–µ–π—Å—Ç–≤–∏—è–º–∏ T-Bank.

---

## ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ü–æ–∏—Å–∫ –∏ —Ü–∏—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –û—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã, –æ–ø–∏—Ä–∞—è—Å—å –Ω–∞ –±–∞–∑—É –∑–Ω–∞–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, `train_our.jsonl`), —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤.
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∫–Ω–æ–ø–∫–∏**: 
  - "–û—Ç–∫—Ä—ã—Ç—å —Å—á—ë—Ç" ‚Äî —Å—Å—ã–ª–∫–∞ –Ω–∞ —Ñ–æ—Ä–º—É T-Bank.
  - "–°–≤—è–∑–∞—Ç—å—Å—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π" ‚Äî –∫–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞.
  - "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–∏–º–∏—Ç—ã" ‚Äî –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –æ –ª–∏–º–∏—Ç–∞—Ö.
- **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è**: –ó–∞–ø–æ–º–∏–Ω–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–∏–∞–ª–æ–≥–∞ –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, —É—Ç–æ—á–Ω–µ–Ω–∏–µ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –æ —Å—á–µ—Ç–∞—Ö).
- **–ò–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π UX**: –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ –º–µ–Ω—é, Markdown-–æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ, –∫–æ–º–∞–Ω–¥–∞ `/help` —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏.
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ —á–µ—Ä–µ–∑ Redis –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–æ–≤.
- **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞**: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤ –≤ `bot.log` –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞.
- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤**: –õ–æ–∫–∞–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Retriever (Chroma), –≤ Kaggle ‚Äî –∫–≤–∞–Ω—Ç–∏–∑–æ–≤–∞–Ω–Ω—É—é ruGPT-3.5 –¥–ª—è –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤.

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **–Ø–∑—ã–∫**: Python
- **RAG-—Å–∏—Å—Ç–µ–º–∞**:
  - **Retriever**: Chroma (–≤–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞)
  - **–≠–º–±–µ–¥–¥–∏–Ω–≥–∏**: Sentence Transformers (`paraphrase-multilingual-mpnet-base-v2`)
  - **Generator**: ruGPT-3.5 (`ai-forever/ruGPT-3.5`, —Å –∫–≤–∞–Ω—Ç–∏–∑–∞—Ü–∏–µ–π –≤ Kaggle)
- **–§—Ä–µ–π–º–≤–æ—Ä–∫**: LangChain
- **Telegram**: python-telegram-bot
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: Redis
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: Python `logging`

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
TinkHelper/
‚îú‚îÄ‚îÄ bot.py               # Telegram-–±–æ—Ç —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –∏ RAG
‚îú‚îÄ‚îÄ prepare_data.py      # –°–æ–∑–¥–∞–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –±–∞–∑—ã Chroma
‚îú‚îÄ‚îÄ rag.py               # –õ–æ–≥–∏–∫–∞ RAG (Retriever + Generator)
‚îú‚îÄ‚îÄ train_our.jsonl      # –î–∞—Ç–∞—Å–µ—Ç —Å –≤–æ–ø—Ä–æ—Å–∞–º–∏ –∏ –æ—Ç–≤–µ—Ç–∞–º–∏
‚îú‚îÄ‚îÄ requirements.txt     # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ bot.log              # –õ–æ–≥-—Ñ–∞–π–ª –∑–∞–ø—Ä–æ—Å–æ–≤
‚îî‚îÄ‚îÄ chroma_db/           # –í–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞ Chroma
```

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.9+
- Redis (–¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è)
- Telegram-–±–æ—Ç —Ç–æ–∫–µ–Ω (–ø–æ–ª—É—á–∏—Ç—å —É @BotFather)
- Kaggle (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å GPU)

### –õ–æ–∫–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (MacOS/Linux/Windows)
1. **–ö–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**:
   ```bash
   git clone https://github.com/your-username/TinkHelper.git
   cd TinkHelper
   ```

2. **–°–æ–∑–¥–∞–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ**:
   ```bash
   python -m venv venv
   source venv/bin/activate  # MacOS/Linux
   venv\Scripts\activate     # Windows
   ```

3. **–£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**:
   ```bash
   pip install -r requirements.txt
   ```

4. **–£—Å—Ç–∞–Ω–æ–≤–∏ Redis**:
   - MacOS: `brew install redis`, –∑–∞—Ç–µ–º `redis-server`
   - Linux: `sudo apt-get install redis-server`
   - Windows: –ò—Å–ø–æ–ª—å–∑—É–π WSL –∏–ª–∏ Docker

5. **–ü–æ–¥–≥–æ—Ç–æ–≤—å –¥–∞–Ω–Ω—ã–µ**:
   - –ü–æ–º–µ—Å—Ç–∏ —Ñ–∞–π–ª `train_our.jsonl` –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞.
   - –ó–∞–ø—É—Å—Ç–∏ —Å–æ–∑–¥–∞–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –±–∞–∑—ã:
     ```bash
     python prepare_data.py
     ```

6. **–ù–∞—Å—Ç—Ä–æ–π Telegram-–±–æ—Ç–∞**:
   - –í `bot.py` –∑–∞–º–µ–Ω–∏ `YOUR_TELEGRAM_TOKEN_HERE` –Ω–∞ —Ç–æ–∫–µ–Ω –æ—Ç @BotFather.

7. **–ó–∞–ø—É—Å—Ç–∏ –±–æ—Ç–∞**:
   ```bash
   python bot.py
   ```

8. **–ü—Ä–æ–≤–µ—Ä—å –≤ Telegram**:
   - –ù–∞–ø–∏—à–∏ –±–æ—Ç—É `/start`, `/help` –∏–ª–∏ –≤–æ–ø—Ä–æ—Å, –Ω–∞–ø—Ä–∏–º–µ—Ä, ‚Äú–ö–∞–∫ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–∏–º–∏—Ç—ã —Å—á–µ—Ç–∞?‚Äù.

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤ Kaggle
1. –ó–∞–≥—Ä—É–∑–∏ `train_our.jsonl` –∫–∞–∫ –¥–∞—Ç–∞—Å–µ—Ç –≤ Kaggle.
2. –°–æ–∑–¥–∞–π –Ω–æ—É—Ç–±—É–∫, —Å–∫–æ–ø–∏—Ä—É–π –∫–æ–¥ –∏–∑ `kaggle_test.ipynb`.
3. –í–∫–ª—é—á–∏ GPU (Notebook options ‚Üí Accelerator ‚Üí GPU P100).
4. –ó–∞–ø—É—Å—Ç–∏ –∏ –ø—Ä–æ–≤–µ—Ä—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Å –∫–≤–∞–Ω—Ç–∏–∑–æ–≤–∞–Ω–Ω–æ–π ruGPT-3.5.

---

## üñ• –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**: `/start`  
**–ë–æ—Ç**:  
üëã *–ü—Ä–∏–≤–µ—Ç!* –Ø TinkHelper. –ó–∞–¥–∞–π –≤–æ–ø—Ä–æ—Å –∏–ª–∏ –≤—ã–±–µ—Ä–∏ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–∏–∂–µ.  
–ü—Ä–∏–º–µ—Ä—ã: '–ö–∞–∫ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–∏–º–∏—Ç—ã —Å—á–µ—Ç–∞?'  
[–û—Ñ–æ—Ä–º–∏—Ç—å –∫–∞—Ä—Ç—É] [–£–∑–Ω–∞—Ç—å –ª–∏–º–∏—Ç—ã] [–°–≤—è–∑–∞—Ç—å—Å—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π]

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**: –ö–∞–∫ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–∏–º–∏—Ç—ã —Å—á–µ—Ç–∞?  
**–ë–æ—Ç**:  
üìã *–û—Ç–≤–µ—Ç*: –í—ã –º–æ–∂–µ—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–∏–º–∏—Ç—ã –ø–æ —Å—á–µ—Ç—É –Ω–∞ –º–µ—Å—è—Ü...  
üîó *–ò—Å—Ç–æ—á–Ω–∏–∫*: –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è T-Bank (2024).  
–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –¥—Ä—É–≥–∏–µ –≤–æ–ø—Ä–æ—Å—ã, –Ω–∞–ø–∏—à–∏—Ç–µ!  
[–û—Ç–∫—Ä—ã—Ç—å —Å—á—ë—Ç] [–°–≤—è–∑–∞—Ç—å—Å—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π] [–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–∏–º–∏—Ç—ã]

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**: –ï—â—ë —Ä–∞–∑ –ø—Ä–æ —Å—á—ë—Ç  
**–ë–æ—Ç**:  
–í—ã —É–∂–µ —Å–ø—Ä–∞—à–∏–≤–∞–ª–∏ –ø—Ä–æ —Å—á—ë—Ç. –•–æ—Ç–∏—Ç–µ —É–∑–Ω–∞—Ç—å –ø—Ä–æ –ª–∏–º–∏—Ç—ã –∏–ª–∏ –æ—Ç–∫—Ä—ã—Ç—å –Ω–æ–≤—ã–π —Å—á—ë—Ç?  
[–£–∑–Ω–∞—Ç—å –ª–∏–º–∏—Ç—ã] [–û—Ç–∫—Ä—ã—Ç—å —Å—á—ë—Ç]

---

## üîß –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

- **–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π**: –î–æ–±–∞–≤–∏—Ç—å PDF-–¥–æ–∫—É–º–µ–Ω—Ç—ã —Å —Ç–∞—Ä–∏—Ñ–∞–º–∏ –∏–ª–∏ –ø–∞—Ä—Å–∏–Ω–≥ —Å–∞–π—Ç–∞ T-Bank.
- **–ì–æ–ª–æ—Å–æ–≤–æ–π –≤–≤–æ–¥**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Tinkoff VoiceKit –∏–ª–∏ `speech_recognition`.
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è API**: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ API T-Bank –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–∏–º–∏—Ç–æ–≤ –∏–ª–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –ø—Ä–æ–¥—É–∫—Ç–æ–≤.
- **–ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ –∏–ª–∏ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–æ–≤.
